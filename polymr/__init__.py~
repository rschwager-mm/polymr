import argparse

from .index import CLI as indexcli
from .query import CLI as querycli
from .query import Index

subcommands = [indexcli, querycli]

Index # pyflakes

def cli():
    parser = argparse.ArgumentParser()
    subparsers = parser.add_subparsers()
    for c in subcommands:
        sp = subparsers.add_subparser(c.name)
        for args, kwargs in c.arguments:
            sp.add_argument(*args, **kwargs)
        sp.set_default(c.hook)
    args = parser.parse_args()
    return args.func(parser, args)


if __name__ == "__main__":
    cli()
